<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
 <title> Bost Teacher Youtube  </title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <!-- Monetag -->
  <script src='//libtl.com/sdk.js' data-zone='10608748' data-sdk='show_10608748'></script>
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap');
    
    :root {
      --primary: #8B5CF6;
      --primary-dark: #7C3AED;
      --secondary: #10B981;
      --accent: #F59E0B;
      --bg-light: #F9FAFB;
      --bg-dark: #1F2937;
      --text-dark: #1F2937;
      --text-light: #F9FAFB;
      --card-bg: #FFFFFF;
      --shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      --shadow-3d: 0 20px 40px rgba(0, 0, 0, 0.15);
    }
    
    body {
      font-family: 'Hind Siliguri', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: var(--text-dark);
    }
    
    .app-container {
      max-width: 480px;
      margin: 0 auto;
      background: var(--bg-light);
      min-height: 100vh;
      box-shadow: 0 0 50px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
    }
    
    .bengali-pattern {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 200px;
      background: 
        radial-gradient(circle at 20% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(16, 185, 129, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(245, 158, 11, 0.1) 0%, transparent 50%);
      z-index: 0;
    }
    
    .card-3d {
      background: var(--card-bg);
      border-radius: 20px;
      box-shadow: var(--shadow-3d);
      transform-style: preserve-3d;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .card-3d:hover {
      transform: translateY(-10px) rotateX(5deg);
      box-shadow: 0 30px 50px rgba(0, 0, 0, 0.2);
    }
    
    .card-3d::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      border-radius: 20px 20px 0 0;
    }
    
    .btn-3d {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
      border-radius: 15px;
      font-weight: 600;
      box-shadow: 0 10px 20px rgba(139, 92, 246, 0.3);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      border: none;
      transform: translateZ(10px);
    }
    
    .btn-3d::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: all 0.5s ease;
    }
    
    .btn-3d:hover {
      transform: translateY(-5px) translateZ(15px);
      box-shadow: 0 15px 30px rgba(139, 92, 246, 0.4);
    }
    
    .btn-3d:hover::before {
      left: 100%;
    }
    
    .btn-secondary {
      background: linear-gradient(135deg, var(--secondary) 0%, #059669 100%);
      box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3);
    }
    
    .btn-secondary:hover {
      box-shadow: 0 15px 30px rgba(16, 185, 129, 0.4);
    }
    
    .btn-accent {
      background: linear-gradient(135deg, var(--accent) 0%, #D97706 100%);
      box-shadow: 0 10px 20px rgba(245, 158, 11, 0.3);
    }
    
    .btn-accent:hover {
      box-shadow: 0 15px 30px rgba(245, 158, 11, 0.4);
    }
    
    .nav-item {
      position: relative;
      transition: all 0.3s ease;
      transform: translateZ(0);
    }
    
    .nav-item.active {
      color: var(--primary);
      transform: translateY(-5px) translateZ(5px);
    }
    
    .nav-item.active::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--primary);
    }
    
    .floating {
      animation: floating 3s ease-in-out infinite;
    }
    
    @keyframes floating {
      0% { transform: translateY(0px) translateZ(0); }
      50% { transform: translateY(-10px) translateZ(5px); }
      100% { transform: translateY(0px) translateZ(0); }
    }
    
    .pulse {
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.7); }
      70% { box-shadow: 0 0 0 10px rgba(139, 92, 246, 0); }
      100% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0); }
    }
    
    .gradient-text {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-weight: 700;
    }
    
    .stat-card {
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(16, 185, 129, 0.1) 100%);
      border-radius: 15px;
      padding: 1rem;
      text-align: center;
      transition: all 0.3s ease;
      border: 1px solid rgba(139, 92, 246, 0.2);
      transform: translateZ(5px);
    }
    
    .stat-card:hover {
      transform: translateY(-5px) translateZ(10px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }
    
    .input-3d {
      background: var(--card-bg);
      border: 2px solid rgba(139, 92, 246, 0.2);
      border-radius: 12px;
      padding: 0.75rem 1rem;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      transform: translateZ(5px);
    }
    
    .input-3d:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 5px 15px rgba(139, 92, 246, 0.2);
      transform: translateZ(10px);
    }
    
    .hidden { display: none; }
    
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--card-bg);
      border-left: 4px solid var(--primary);
      border-radius: 12px;
      padding: 1rem;
      box-shadow: var(--shadow-3d);
      transform: translateX(120%) translateZ(20px);
      transition: transform 0.5s ease;
      z-index: 1000;
      max-width: 300px;
    }
    
    .notification.show {
      transform: translateX(0) translateZ(20px);
    }
    
    .bengali-ornament {
      position: absolute;
      width: 100%;
      height: 10px;
      background: 
        repeating-linear-gradient(45deg, transparent, transparent 5px, var(--primary) 5px, var(--primary) 10px),
        repeating-linear-gradient(-45deg, transparent, transparent 5px, var(--secondary) 5px, var(--secondary) 10px);
      opacity: 0.3;
    }
    
    .progress-3d {
      height: 10px;
      background: rgba(139, 92, 246, 0.2);
      border-radius: 5px;
      overflow: hidden;
      box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
      transform: translateZ(5px);
    }
    
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      border-radius: 5px;
      transition: width 0.5s ease;
      position: relative;
    }
    
    .progress-bar::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
      animation: shimmer 2s infinite;
    }
    
    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    .badge-3d {
      display: inline-flex;
      align-items: center;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      box-shadow: 0 5px 10px rgba(139, 92, 246, 0.3);
      transform: translateZ(5px);
    }
  </style>
</head>
<body class="flex flex-col min-h-screen">
  <div class="app-container">
    <div class="bengali-pattern"></div>
    
    <!-- Header -->
    <div class="bg-gradient-to-r from-purple-600 to-indigo-700 text-white p-5 flex items-center justify-between relative z-10">
      <div>
        <h1 class="text-xl font-bold">টাকা আয়ের অ্যাপ</h1>
        <p class="text-sm opacity-80">সহজে টাকা আয় করুন</p>
      </div>
      <div class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center">
        <i class="fas fa-wallet text-white"></i>
      </div>
    </div>
    <div class="bengali-ornament"></div>

    <!-- ================= HOME ================= -->
    <div id="home" class="flex-1 p-5 relative z-10">
      <!-- User Profile -->
      <div class="card-3d p-5 mb-6">
        <div class="flex items-center space-x-4">
          <div class="relative">
            <img id="profilePic" src="https://via.placeholder.com/60" class="w-16 h-16 rounded-full border-2 border-purple-500 floating">
            <div class="absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-white"></div>
          </div>
          <div>
            <h2 id="userName" class="font-bold text-lg">লোড হচ্ছে...</h2>
            <p id="todayBalance" class="text-sm text-gray-600">আজকের ইনকাম: ৳ 0</p>
          </div>
        </div>
      </div>

      <!-- Stats Grid -->
      <div class="grid grid-cols-2 gap-4 mb-6">
        <div class="stat-card">
          <div class="text-2xl font-bold text-purple-600 mb-1" id="totalClaim">0</div>
          <p class="text-xs text-gray-600">মোট ক্লেইম</p>
        </div>
        <div class="stat-card">
          <div class="text-2xl font-bold text-yellow-500 mb-1" id="totalTasks">50</div>
          <p class="text-xs text-gray-600">মোট টাস্ক</p>
        </div>
        <div class="stat-card">
          <div class="text-2xl font-bold text-green-500 mb-1" id="totalRefer">0</div>
          <p class="text-xs text-gray-600">রেফার</p>
        </div>
        <div class="stat-card">
          <div class="text-2xl font-bold text-indigo-500 mb-1" id="lifetimeEarn">৳ 0</div>
          <p class="text-xs text-gray-600">লাইফটাইম আয়</p>
        </div>
      </div>

      <!-- Progress -->
      <div class="card-3d p-5 mb-6">
        <div class="flex justify-between items-center mb-2">
          <span class="text-sm font-medium">আজকের টাস্ক প্রোগ্রেস</span>
          <span class="text-sm font-bold text-purple-600" id="progressText">0/50</span>
        </div>
        <div class="progress-3d">
          <div class="progress-bar" id="progressBar" style="width: 0%"></div>
        </div>
      </div>

      <!-- Main Action Button -->
      <button onclick="earnAd()" class="btn-3d w-full py-4 text-lg font-bold pulse">
        <i class="fas fa-play-circle mr-2"></i>টাকা আয় শুরু করুন →
      </button>
    </div>

    <!-- ================= ADS TASK ================= -->
    <div id="adsTask" class="hidden p-5 relative z-10">
      <div class="card-3d p-5 mb-6">
        <h2 class="font-bold text-lg mb-3 flex items-center">
          <i class="fas fa-ad mr-2 text-purple-500"></i>
          বিজ্ঞাপন টাস্ক
        </h2>
        <p class="text-sm text-gray-600 mb-4">প্রতিদিন ৫০ টি বিজ্ঞাপন দেখার সুযোগ</p>
        
        <button onclick="earnAd()" class="btn-3d w-full py-4 mb-4">
          <i class="fas fa-play mr-2"></i>বিজ্ঞাপন দেখুন
        </button>
        
        <div class="flex justify-between items-center">
          <span class="text-sm text-gray-600">আজকের বাকি এড:</span>
          <span class="font-bold text-purple-600" id="adsLeft">50</span>
        </div>
      </div>
      
      <div class="card-3d p-5">
        <h3 class="font-bold mb-3 flex items-center">
          <i class="fas fa-info-circle mr-2 text-blue-500"></i>
          নির্দেশিকা
        </h3>
        <ul class="text-sm space-y-2 text-gray-600">
          <li class="flex items-start">
            <i class="fas fa-check text-green-500 mt-1 mr-2"></i>
            <span>বিজ্ঞাপন সম্পূর্ণ দেখলে টাকা পাবেন</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-check text-green-500 mt-1 mr-2"></i>
            <span>প্রতিদিন ৫০টি বিজ্ঞাপন দেখতে পারবেন</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-check text-green-500 mt-1 mr-2"></i>
            <span>বিজ্ঞাপন স্কিপ করলে টাকা দেওয়া হবে না</span>
          </li>
        </ul>
      </div>
    </div>

    <!-- ================= TG TASKS ================= -->
    <div id="tgTask" class="hidden p-5 relative z-10">
      <div class="card-3d p-5">
        <h2 class="font-bold text-lg mb-4 flex items-center">
          <i class="fab fa-telegram mr-2 text-blue-500"></i>
          টেলিগ্রাম টাস্ক
        </h2>
        
        <div class="space-y-4">
          <div class="bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl border border-blue-200">
            <div class="flex justify-between items-center mb-2">
              <h3 class="font-semibold">টেলিগ্রাম গ্রুপে যোগ দিন</h3>
              <span class="badge-3d">+৳ 5</span>
            </div>
            <p class="text-sm text-gray-600 mb-3">আমাদের গ্রুপে যোগ দিয়ে বোনাস পান</p>
            <button onclick="verifyTask('group')" class="btn-secondary w-full py-2">
              <i class="fas fa-check-circle mr-2"></i>যাচাই করুন
            </button>
          </div>
          
          <div class="bg-gradient-to-r from-green-50 to-blue-50 p-4 rounded-xl border border-green-200">
            <div class="flex justify-between items-center mb-2">
              <h3 class="font-semibold">টেলিগ্রাম চ্যানেলে যোগ দিন</h3>
              <span class="badge-3d">+৳ 5</span>
            </div>
            <p class="text-sm text-gray-600 mb-3">আমাদের চ্যানেলে যোগ দিয়ে বোনাস পান</p>
            <button onclick="verifyTask('channel')" class="btn-secondary w-full py-2">
              <i class="fas fa-check-circle mr-2"></i>যাচাই করুন
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- ================= REFER ================= -->
    <div id="refer" class="hidden p-5 relative z-10">
      <div class="card-3d p-5">
        <h2 class="font-bold text-lg mb-4 flex items-center">
          <i class="fas fa-users mr-2 text-green-500"></i>
          বন্ধুকে রেফার করুন
        </h2>
        
        <div class="bg-gradient-to-r from-green-50 to-blue-50 p-4 rounded-xl mb-4">
          <p class="text-sm text-gray-600 mb-2">আপনার রেফার লিংক</p>
          <div class="flex items-center">
            <input type="text" id="referLink" class="input-3d flex-1 text-sm" value="https://t.me/techfisms?start=12345" readonly>
            <button onclick="copyLink()" class="btn-3d ml-2 px-4 py-2">
              <i class="fas fa-copy"></i>
            </button>
          </div>
        </div>
        
        <div class="grid grid-cols-2 gap-3 mb-4">
          <button onclick="copyLink()" class="btn-secondary py-3">
            <i class="fas fa-copy mr-2"></i>কপি
          </button>
          <button onclick="shareLink()" class="btn-accent py-3">
            <i class="fas fa-share mr-2"></i>শেয়ার
          </button>
        </div>
        
        <div class="text-center">
          <p class="text-sm text-gray-600">প্রতিটি রেফারে পাবেন <span class="font-bold text-green-600">৳ 10</span> বোনাস</p>
        </div>
      </div>
    </div>

    <!-- ================= WITHDRAW ================= -->
    <div id="withdraw" class="hidden p-5 relative z-10">
      <div class="card-3d p-5">
        <h2 class="font-bold text-lg mb-4 flex items-center">
          <i class="fas fa-wallet mr-2 text-purple-500"></i>
          টাকা উত্তোলন
        </h2>
        
        <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-xl mb-4 text-center">
          <p class="text-sm text-gray-600">বর্তমান ব্যালেন্স</p>
          <p class="text-2xl font-bold text-purple-600" id="withdrawBalance">৳ 0</p>
        </div>
        
        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium mb-2">পদ্ধতি নির্বাচন করুন</label>
            <select id="method" class="input-3d w-full">
              <option>বিকাশ</option>
              <option>নগদ</option>
              <option>রকেট</option>
              <option>USDT</option>
            </select>
          </div>
          
          <div>
            <label class="block text-sm font-medium mb-2">নম্বর / ওয়ালেট</label>
            <input type="text" id="wallet" placeholder="আপনার নম্বর বা ওয়ালেট ঠিকানা" class="input-3d w-full">
          </div>
          
          <div>
            <label class="block text-sm font-medium mb-2">টাকার পরিমাণ</label>
            <input type="number" id="amount" placeholder="উত্তোলনের পরিমাণ" class="input-3d w-full">
          </div>
          
          <button onclick="submitWithdraw()" class="btn-3d w-full py-3">
            <i class="fas fa-paper-plane mr-2"></i>উত্তোলন রিকোয়েস্ট করুন
          </button>
        </div>
      </div>
    </div>

    <!-- ================= PROFILE ================= -->
    <div id="profile" class="hidden p-5 relative z-10">
      <div class="card-3d p-5 text-center">
        <div class="relative inline-block mb-4">
          <img id="profilePic2" src="https://via.placeholder.com/80" class="w-24 h-24 rounded-full border-4 border-purple-500 mx-auto floating">
          <div class="absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-2 border-white"></div>
        </div>
        
        <h2 id="userName2" class="font-bold text-xl mb-2 gradient-text">ইউজার নাম</h2>
        <div class="bg-gradient-to-r from-purple-50 to-blue-50 p-4 rounded-xl inline-block mb-4">
          <p class="text-sm text-gray-600">ব্যালেন্স</p>
          <p class="text-2xl font-bold text-purple-600" id="profileBalance">৳ 0</p>
        </div>
        
        <div class="grid grid-cols-2 gap-4 mt-4">
          <div class="stat-card">
            <div class="text-lg font-bold text-purple-600" id="profileAds">0</div>
            <p class="text-xs text-gray-600">বিজ্ঞাপন</p>
          </div>
          <div class="stat-card">
            <div class="text-lg font-bold text-green-600" id="profileRefers">0</div>
            <p class="text-xs text-gray-600">রেফার</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
      <div class="flex items-center">
        <div class="mr-3 text-green-400 text-xl">
          <i class="fas fa-check-circle"></i>
        </div>
        <div>
          <p class="font-semibold" id="notification-title">সফল হয়েছে</p>
          <p class="text-sm text-gray-600" id="notification-message">অপারেশন সফলভাবে সম্পন্ন হয়েছে</p>
        </div>
      </div>
    </div>

    <!-- ================= BOTTOM MENU ================= -->
    <div class="bg-white border-t p-3 flex justify-around relative z-20">
      <button onclick="openTab('home')" id="btnHome" class="nav-item active flex flex-col items-center text-xs">
        <i class="fas fa-home text-lg mb-1"></i>
        <span>হোম</span>
      </button>
      <button onclick="openTab('adsTask')" id="btnAds" class="nav-item flex flex-col items-center text-xs">
        <i class="fas fa-ad text-lg mb-1"></i>
        <span>বিজ্ঞাপন</span>
      </button>
      <button onclick="openTab('tgTask')" id="btnTG" class="nav-item flex flex-col items-center text-xs">
        <i class="fab fa-telegram text-lg mb-1"></i>
        <span>টেলিগ্রাম</span>
      </button>
      <button onclick="openTab('refer')" id="btnRefer" class="nav-item flex flex-col items-center text-xs">
        <i class="fas fa-users text-lg mb-1"></i>
        <span>রেফার</span>
      </button>
      <button onclick="openTab('withdraw')" id="btnWithdraw" class="nav-item flex flex-col items-center text-xs">
        <i class="fas fa-wallet text-lg mb-1"></i>
        <span>উত্তোলন</span>
      </button>
      <button onclick="openTab('profile')" id="btnProfile" class="nav-item flex flex-col items-center text-xs">
        <i class="fas fa-user text-lg mb-1"></i>
        <span>প্রোফাইল</span>
      </button>
    </div>
  </div>

<script>
  // ================= FIREBASE CONFIG =================
  const firebaseConfig = {
    apiKey: "AIzaSyDemoKey",
    authDomain: "demo-app.firebaseapp.com",
    databaseURL: "https://demo-app-default-rtdb.firebaseio.com",
    projectId: "demo-app",
    storageBucket: "demo-app.appspot.com",
    messagingSenderId: "123456789",
    appId: "1:123456789:web:demo"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  // Demo user (Telegram থেকে নিতে হবে)
  let userId = "user_123";

  // Show notification
  function showNotification(title, message, type = 'success') {
    const notification = document.getElementById('notification');
    const notificationTitle = document.getElementById('notification-title');
    const notificationMessage = document.getElementById('notification-message');
    
    // Set border color based on type
    if (type === 'success') {
      notification.style.borderLeftColor = '#10B981';
    } else if (type === 'error') {
      notification.style.borderLeftColor = '#EF4444';
    } else if (type === 'warning') {
      notification.style.borderLeftColor = '#F59E0B';
    }
    
    notificationTitle.textContent = title;
    notificationMessage.textContent = message;
    
    notification.classList.add('show');
    
    setTimeout(() => {
      notification.classList.remove('show');
    }, 3000);
  }

  // Load User Data
  function loadUser(){
    db.ref("users/"+userId).on("value", snap=>{
      let d = snap.val() || {};
      document.getElementById("userName").innerText = d.name || "ডেমো ইউজার";
      document.getElementById("userName2").innerText = d.name || "ডেমো ইউজার";
      document.getElementById("todayBalance").innerText = "আজকের ইনকাম: ৳ " + (d.today || 0);
      document.getElementById("totalClaim").innerText = d.claim || 0;
      document.getElementById("totalRefer").innerText = d.refer || 0;
      document.getElementById("lifetimeEarn").innerText = "৳ " + (d.lifetime || 0);
      document.getElementById("profileBalance").innerText = "৳ " + (d.lifetime || 0);
      document.getElementById("withdrawBalance").innerText = "৳ " + (d.lifetime || 0);
      document.getElementById("profileAds").innerText = d.claim || 0;
      document.getElementById("profileRefers").innerText = d.refer || 0;
      
      // Update progress
      const progress = Math.min(((d.claim || 0) / 50) * 100, 100);
      document.getElementById("progressBar").style.width = progress + '%';
      document.getElementById("progressText").innerText = (d.claim || 0) + '/50';
      document.getElementById("adsLeft").innerText = 50 - (d.claim || 0);
    });
  }
  loadUser();

  // Earn by Ad
  function earnAd(){
    if(window.show_10608748){ 
      show-10608748().then(() => {
        let ref = db.ref("users/"+userId);
        ref.once("value").then(snap=>{
          let d = snap.val() || {};
          let newClaim = (d.claim || 0) + 1;
          let newToday = (d.today || 0) + 2;
          let newLife = (d.lifetime || 0) + 2;
          ref.update({claim:newClaim, today:newToday, lifetime:newLife});
          showNotification("সফল!", "আপনি ৳ 2 আয় করেছেন!", "success");
        });
      }).catch(err => {
        showNotification("ত্রুটি!", "বিজ্ঞাপন সম্পূর্ণ দেখুন", "error");
      });
    } else {
      // Fallback for demo
      let ref = db.ref("users/"+userId);
      ref.once("value").then(snap=>{
        let d = snap.val() || {};
        let newClaim = (d.claim || 0) + 1;
        let newToday = (d.today || 0) + 2;
        let newLife = (d.lifetime || 0) + 2;
        ref.update({claim:newClaim, today:newToday, lifetime:newLife});
        showNotification("সফল!", "আপনি ৳ 2 আয় করেছেন!", "success");
      });
    }
  }

  // TG Task Verify
  function verifyTask(type){
    let ref = db.ref("users/"+userId);
    ref.once("value").then(snap=>{
      let d = snap.val() || {};
      let newToday = (d.today || 0) + 5;
      let newLife = (d.lifetime || 0) + 5;
      ref.update({today:newToday, lifetime:newLife});
      showNotification("যাচাইকৃত!", type + " যাচাই সম্পন্ন +৳ 5 আয়", "success");
    });
  }

  // Withdraw Submit
  function submitWithdraw(){
    let method = document.getElementById("method").value;
    let wallet = document.getElementById("wallet").value;
    let amount = parseInt(document.getElementById("amount").value);
    
    if(!wallet || !amount) {
      showNotification("ত্রুটি!", "সমস্ত তথ্য পূরণ করুন", "error");
      return;
    }
    
    db.ref("withdraws").push({
      user:userId, method, wallet, amount, status:"pending", timestamp: Date.now()
    });
    showNotification("সফল!", "উত্তোলন রিকোয়েস্ট জমা দেওয়া হয়েছে", "success");
    
    // Clear form
    document.getElementById("wallet").value = "";
    document.getElementById("amount").value = "";
  }

  // Refer
  function copyLink(){
    let copyText = document.getElementById("referLink");
    copyText.select();
    document.execCommand("copy");
    showNotification("কপি!", "লিংক কপি করা হয়েছে!", "success");
  }
  
  function shareLink(){
    let link = document.getElementById("referLink").value;
    if(navigator.share) {
      navigator.share({
        title: 'টাকা আয়ের অ্যাপ',
        text: 'এই অ্যাপ দিয়ে সহজে টাকা আয় করুন',
        url: link
      });
    } else {
      window.open("https://t.me/share/url?url=" + encodeURIComponent(link));
    }
  }

  // Navigation
  function openTab(tab){
    document.querySelectorAll('#home,#adsTask,#tgTask,#refer,#withdraw,#profile').forEach(el=>el.classList.add('hidden'));
    document.getElementById(tab).classList.remove('hidden');
    document.querySelectorAll('.bg-white.border-t button').forEach(el=>el.classList.remove('active'));
    document.getElementById("btn"+tab.charAt(0).toUpperCase()+tab.slice(1)).classList.add("active");
  }
</script>

</body>
</html>